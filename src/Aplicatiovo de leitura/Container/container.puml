@startuml
!include https://raw.githubusercontent.com/adrianvlupu/C4-PlantUML/latest/C4_Container.puml

LAYOUT_WITH_LEGEND()

System(Sistema, "Sistema", "Aplicativo de Leitura de Gás, Água e Luz")

Person(Ator_Tecnico_Leiturista, "Ator Técnico Leiturista", "Representa o técnico responsável pela leitura dos medidores.")
Person(Ator_Cliente, "Ator Cliente", "Representa o cliente que utiliza os serviços de gás, água e luz.")
Person(Ator_Condominio, "Ator Condomínio", "Representa o condomínio de residências.")


System_Boundary(SI, "Sistemas Internos"){
    Container(App, "Aplicativo","Flutter", "Aplicativo móvel para coleta de leituras")
    Container(Backend, "Backend",".NET Core API" ,"Lógica de negócio e processamento de dados")
    Container(BancoDados, "Banco de Dados","SQL Server", "Armazenamento de leituras e informações dos clientes")
    Container(WebApp, "Web Application", "ASP.NET Core","Aplicativo web para exportação de arquivos")
}

System_Boundary(SE, "Sistemas Externos"){
    System_Ext(ERP, "ERP", "Sistema ERP externo para integração de dados")
}

Rel(Sistema, Ator_Tecnico_Leiturista, "Realiza leituras")
Rel(Sistema, Ator_Cliente, "Recebe informações sobre consumo")
Rel(Sistema, Ator_Condominio, "Recebe informações sobre consumo")

Rel(Ator_Tecnico_Leiturista, App, "Utiliza")
Rel(Ator_Cliente, App, "Utiliza")
Rel(App, Backend, "Envia leituras e recebe informações", "JSON/HTTPS")
Rel(Backend, BancoDados, "Armazena leituras e informações", "JDBC")
Rel(WebApp, Ator_Cliente, "Visualiza relatórios de consumo")
Rel(WebApp, ERP, "Exporta arquivos", "JSON, XML/SOAP, TXT, XLSX")
Rel(WebApp, Backend, "Envia cadastros e recebe informações de leituras", "JSON/HTTPS")
Rel(Backend, ERP, "Integração de dados", "API/JSON")
@enduml